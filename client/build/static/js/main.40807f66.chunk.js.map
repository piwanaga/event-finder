{"version":3,"sources":["actions/actionTypes.js","secrets.js","TMApi.js","actions/actionCreators.js","components/AttractionCard.js","components/AttractionCardList.js","components/Home.js","components/FavoriteArtistsList.js","components/Profile.js","components/AttractionCardSmall.js","components/AttractionSearchResults.js","components/EventCard.js","components/EventSearchResults.js","components/SearchResults.js","components/AttractionDetail.js","components/EventFilters.js","components/Discover.js","components/LoginForm.js","components/RoutesComponent.js","components/Search.js","components/Header.js","components/Footer.js","components/App.js","reportWebVitals.js","reducers/searchReducer.js","reducers/attractionsReducer.js","reducers/userReducer.js","reducers/rootReducer.js","components/ScrollToTop.js","index.js"],"names":["CREATE_USER","GET_USER","LOGIN_USER","UPDATE_USER","LOGOUT_USER","SEARCH_EVENTS","SEARCH_USERS","CLEAR_SEARCH_USERS","LOAD_MORE","SEARCH_ATTRACTIONS","GET_ATTRACTIONS","GET_ATTRACTION_DETAILS","GET_EVENT_DETAIL","ADD_ARTIST","REMOVE_ARTIST","API_KEY","BASE_URL","TMApi","endpoint","params","includes","replace","url","axios","method","apikey","data","console","error","response","location","postalCode","city","this","request","size","res","id","classification","classificationName","link","process","loggedInUser","user","type","loggedOutUser","gotUser","addedArtist","artist","removeArtist","dispatch","a","delete","username","removedArtist","log","searchEvents","searchResults","searchAttractionsResults","moreResults","results","gotAttractions","attractions","gotAttractionDetails","attractionDetails","AttractionCard","name","img","eventCount","className","to","src","alt","AttractionCardList","title","map","images","upcomingEvents","_total","Home","useSelector","store","attractionsReducer","attractionsHome","Object","keys","FavoriteArtistsList","artists","handleUnfollow","photoUrl","onClick","Profile","useDispatch","userReducer","AttractionCardSmall","segment","genre","AttractionSearchResults","attractionId","attractionName","searchReducer","classifications","EventCard","date","time","venue","ticketUrl","dayjs","format","href","target","rel","EventSearchResults","loadMoreLink","events","search","useLocation","queryString","parse","keyword","useEffect","length","e","dates","start","localDate","localTime","_embedded","venues","loadMore","SearchResults","useState","activeLink","setActiveLink","AttractionDetail","navigate","useNavigate","useParams","isFollowing","setIsFollowing","attraction","details","getAttractionDetails","loggedIn","handleFollow","post","icon","faHeartSolid","faHeartRegular","EventFilters","startDateTime","sort","radius","INITIAL_STATE","filterData","setFilterData","handleChange","evt","value","onSubmit","preventDefault","pathname","onChange","placeholder","Discover","LoginForm","timeout","password","usernameError","passwordError","formData","setFormData","clearTimeout","isValidForm","validForm","validateForm","headers","localStorage","setItem","JSON","stringify","token","setTimeout","htmlFor","maxLength","RoutesComponent","path","element","Search","searchAttractions","faMagnifyingGlass","Header","navbarOpen","setNavbarOpen","handleLogout","removeItem","handleClick","faBars","Footer","App","storedToken","getItem","jwt","decode","get","getAttractions","musicRes","sportsRes","filmRes","artsAndTheatreRes","music","sports","films","artsAndTheatre","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","eventDetail","users","state","action","_links","next","firstName","lastName","email","filter","rootReducer","combineReducers","ScrollToTop","window","scrollTo","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40807f66.chunk.js","sourcesContent":["/**Action types for reducer actions */\r\n\r\nexport const CREATE_USER = 'CREATE_USER';\r\nexport const GET_USER = 'GET_USER';\r\nexport const LOGIN_USER = 'LOGIN_USER';\r\nexport const UPDATE_USER = 'UPDATE_USER';\r\nexport const LOGOUT_USER = 'LOGOUT_USER';\r\nexport const SEARCH_EVENTS = 'SEARCH_EVENTS';\r\nexport const SEARCH_USERS = 'SEARCH_USERS';\r\nexport const CLEAR_SEARCH_USERS = 'CLEAR_SEARCH_USERS';\r\nexport const LOAD_MORE = 'LOAD_MORE';\r\nexport const SEARCH_ATTRACTIONS = 'SEARCH_ATTRACTIONS';\r\nexport const GET_ATTRACTIONS = 'GET_ATTRACTIONS';\r\nexport const GET_ATTRACTION_DETAILS = 'GET_ATTRACTION_DETAILS';\r\nexport const GET_EVENT_DETAIL = 'GET_EVENT_DETAIL';\r\nexport const ADD_ARTIST = 'ADD_ARTIST';\r\nexport const REMOVE_ARTIST = 'REMOVE_ARTIST';\r\n","export const API_KEY = 'sY0V0bcC0RC1F9yjSh1wrBB70hXSQswG'","import axios from 'axios';\r\nimport {API_KEY} from './secrets';\r\n\r\nconst BASE_URL = 'https://app.ticketmaster.com/discovery/v2';\r\n\r\nclass TMApi {\r\n    static async request(endpoint, params={}) {\r\n        let url \r\n        if (endpoint.includes('discovery')) {\r\n            endpoint = endpoint.replace('/discovery/v2', '')\r\n            url = `${BASE_URL}/${endpoint}`\r\n        } else {\r\n            url = `${BASE_URL}/${endpoint}.json`\r\n        }\r\n\r\n        try {\r\n          return (await axios({ url, method: 'get', params: {...params, apikey: API_KEY} })).data;\r\n        } catch (err) {\r\n          console.error(\"API Error:\", err.response);\r\n        }\r\n    };\r\n\r\n    static async searchEvents(data) {\r\n        let params = {...data}\r\n        if (data.location) {\r\n            if ( +data.location ) {\r\n                params.postalCode = data.location\r\n            } else {\r\n                params.city = data.location\r\n            };\r\n            delete params.location\r\n        };\r\n        \r\n        const res = await this.request('events', { ...params, size: 10 });\r\n        return res;\r\n    };\r\n\r\n    static async searchAttractions(data) {\r\n        let params = {...data}\r\n        \r\n        const res = await this.request('attractions', { ...params, size: 50 });\r\n        return res;\r\n    };\r\n\r\n    static async getEventDetail(id) {\r\n        const res = await this.request(`events/${id}`);\r\n        return res;\r\n    };\r\n\r\n    static async getAttractions(classification) {\r\n        const res = await this.request('attractions', {classificationName: classification, size: 8});\r\n        return res;\r\n    };\r\n\r\n    static async loadMore(link) {\r\n        const res = await this.request(link)\r\n        return res;\r\n    };\r\n\r\n    static async getAttractionDetails(id) {\r\n        const res = await this.request(`/attractions/${id}`);\r\n        return res;\r\n    };\r\n};\r\n\r\nexport default TMApi;","import axios from 'axios';\r\nimport { \r\n        CREATE_USER, \r\n        LOGIN_USER, \r\n        GET_USER, \r\n        UPDATE_USER, \r\n        LOGOUT_USER, \r\n        SEARCH_EVENTS, \r\n        LOAD_MORE, \r\n        SEARCH_ATTRACTIONS,\r\n        GET_ATTRACTIONS, \r\n        GET_ATTRACTION_DETAILS, \r\n        ADD_ARTIST, \r\n        REMOVE_ARTIST, \r\n        GET_EVENT_DETAIL\r\n       } \r\n       from './actionTypes';\r\nimport jwt from 'jsonwebtoken';\r\nimport TMApi from '../TMApi';\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL || 'http://localhost:3001';\r\n\r\n/**USER ACTIONS\r\n * - create new user\r\n * - login user\r\n * - logout user\r\n * - update user\r\n * - get user (using token in local storage)\r\n */\r\n\r\n/**Create new user\r\n * - make request to backend with user data\r\n * - store token in localStorage\r\n */\r\nexport const createUser = user => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.post(`${BASE_URL}/users/register`, user);\r\n            localStorage.setItem('token', JSON.stringify(res.data.token));\r\n            dispatch(createdUser(res.data.user));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst createdUser = user => {\r\n    return {\r\n        type: CREATE_USER,\r\n        user\r\n    };\r\n};\r\n\r\n// /**Login user\r\n//  * - store token in loalStorage\r\n//  */\r\nexport const loginUser = data => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.post(`${BASE_URL}/users/login`, data, \r\n            {headers: \r\n                {'Content-Type': 'application/json'}\r\n            });\r\n            localStorage.setItem('token', JSON.stringify(res.data.token));\r\n            dispatch(loggedInUser(res.data.user));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst loggedInUser = user => {\r\n    return {\r\n        type: LOGIN_USER,\r\n        user\r\n    };\r\n};\r\n\r\n// /**Logout user\r\n//  * - remove token from localStorage\r\n//  */\r\nexport const logoutUser = () => {\r\n    return dispatch => {\r\n        localStorage.removeItem('token');\r\n        dispatch(loggedOutUser());\r\n    };\r\n};\r\n\r\nconst loggedOutUser = () => {\r\n    return {\r\n        type: LOGOUT_USER,\r\n    };\r\n};\r\n\r\n// /**Get user details\r\n//  * - decode token in localStorage to get username\r\n//  * - make request to backend to get user object\r\n//  */\r\nexport const getUser = token => {\r\n    return async dispatch => {\r\n        try {\r\n            const { username } = jwt.decode(JSON.parse(token));\r\n            const res = await axios.get(`${BASE_URL}/users/${username}`);\r\n            dispatch(gotUser(res.data.user));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        }\r\n    };\r\n};\r\n\r\nconst gotUser = user => {\r\n    return {\r\n        type: GET_USER,\r\n        user\r\n    };\r\n};\r\n\r\n// /**Update user\r\n//  * - make patch request to backend and update redux store\r\n//  */\r\nexport const updateUser = (username, data) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.patch(`${BASE_URL}/users/${username}`, data);\r\n            dispatch(updatedUser(res.data.user));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst updatedUser = user => {\r\n    return {\r\n        type: UPDATE_USER,\r\n        user\r\n    };\r\n};\r\n\r\n// /**USER FRIENDS AND ARTISTS AND ACTIONS\r\n//  *  - add/remove artist from following\r\n//  *  - add/remove friend\r\n//  */\r\n\r\n//  /**Add artist\r\n//   * - make post request to backend with artist data\r\n//   */\r\nexport const addArtist = data => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.post(`${BASE_URL}/users/${data.username}/artists`, data);\r\n            dispatch(addedArtist(res.data.artist))\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst addedArtist = artist => {\r\n    return {\r\n        type: ADD_ARTIST,\r\n        artist\r\n    };\r\n};\r\n\r\nexport const removeArtist = data => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios.delete(`${BASE_URL}/users/${data.username}/artists`, {data});\r\n            dispatch(removedArtist(res.data.id));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst removedArtist = id => {\r\n    return {\r\n        type: REMOVE_ARTIST,\r\n        id\r\n    };\r\n};\r\n\r\n// /**Add friend\r\n//  * - make post request to backend with friend user data\r\n//  */\r\n// export const addFriend = data => {\r\n//     return async dispatch => {\r\n//         try {\r\n//             const res = await axios.post(`${BASE_URL}/users/${data.username}/friends`, data);\r\n//             dispatch(addedFriend(res.data.newFriend));\r\n//         } catch (e) {\r\n//             console.log(e)\r\n//             return e\r\n//         };\r\n//     };\r\n// };\r\n\r\n// const addedFriend = newFriend => {\r\n//     return {\r\n//         type: ADD_FRIEND,\r\n//         newFriend\r\n//     };\r\n// };\r\n\r\n// export const removeFriend = data => {\r\n//     return async dispatch => {\r\n//         try {\r\n//             const res = await axios.delete(`${BASE_URL}/users/${data.username}/friends`, {data});\r\n//             dispatch(removedFriend(res.data.username));\r\n//         } catch (e) {\r\n//             console.log(e)\r\n//             return e\r\n//         };\r\n//     };\r\n// };\r\n\r\n// const removedFriend = username => {\r\n//     return {\r\n//         type: REMOVE_FRIEND,\r\n//         username\r\n//     };\r\n// };\r\n\r\n/**Search actions \r\n * - handle search\r\n * - load more results\r\n*/\r\n\r\n/**Search events\r\n * - call our TMApi class method with provided search data\r\n */\r\nexport const searchEvents = data => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await TMApi.searchEvents(data);\r\n            dispatch(searchResults(res));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };   \r\n};\r\n\r\nconst searchResults = (searchResults) => {\r\n    return {\r\n        type: SEARCH_EVENTS,\r\n        searchResults\r\n    };\r\n};\r\n\r\nexport const searchAttractions = data => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await TMApi.searchAttractions(data);\r\n            dispatch(searchAttractionsResults(res));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };   \r\n};\r\n\r\nconst searchAttractionsResults = (searchAttractionsResults) => {\r\n    return {\r\n        type: SEARCH_ATTRACTIONS,\r\n        searchAttractionsResults\r\n    };\r\n};\r\n\r\n/**Load more events\r\n * - we don't want to load all search results on inital request, so loadMore will get the next set of results on request\r\n * - calls TMApi class method for loading more events\r\n */\r\nexport const loadMore = link => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await TMApi.loadMore(link)\r\n            dispatch(moreResults(res))\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst moreResults = results => {\r\n    return {\r\n        type: LOAD_MORE,\r\n        results\r\n    };\r\n};\r\n\r\n/**Get event details\r\n * - call TMApi class method with event id to get event details\r\n */\r\nexport const getEventDetail = id => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await TMApi.getEventDetail(id);\r\n            dispatch(gotEventDetail(res));\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst gotEventDetail = eventDetail => {\r\n    return {\r\n        type: GET_EVENT_DETAIL,\r\n        eventDetail\r\n    };\r\n};\r\n\r\n/**Search users\r\n * - search any registered users by username\r\n * - make ge request to backend search route\r\n */\r\n// export const searchUsers = username => {\r\n//     return async dispatch => {\r\n//         try {\r\n//             const res = await axios.get(`${BASE_URL}/users/search/${username}`);\r\n//             dispatch(searchUsersResults(res.data.users));\r\n//         } catch (e) {\r\n//             console.log(e);\r\n//             return e;\r\n//         };\r\n//     };\r\n// };\r\n\r\n// const searchUsersResults = users => {\r\n//     return {\r\n//         type: SEARCH_USERS,\r\n//         users\r\n//     };\r\n// };\r\n\r\n// /**Clear search results */\r\n// export const clearSearchUsers = () => {\r\n//     return {\r\n//         type: CLEAR_SEARCH_USERS\r\n//     };\r\n// };\r\n\r\n/**ATTRACTIONS ACTIONS\r\n * - get attractions for homepage\r\n * - get attraction details\r\n */\r\n\r\n/**Get attractions for homepage\r\n * - get attractions for four main classifications to be displayed on homepage: music, sports, film, arts & theatre\r\n * - call getAttractions class method for each classification and add to attractions object to be added to redux store\r\n */\r\nexport const getAttractions = () => {\r\n    return async dispatch => {\r\n        try {\r\n        let attractions = {}\r\n            const musicRes = await TMApi.getAttractions('music');\r\n            const sportsRes = await TMApi.getAttractions('sports');\r\n            const filmRes = await TMApi.getAttractions('film');\r\n            const artsAndTheatreRes = await TMApi.getAttractions('arts&theatre');\r\n\r\n        attractions.music = musicRes._embedded.attractions\r\n        attractions.sports = sportsRes._embedded.attractions\r\n        attractions.films = filmRes._embedded.attractions\r\n        attractions.artsAndTheatre = artsAndTheatreRes._embedded.attractions\r\n        \r\n        dispatch(gotAttractions(attractions))\r\n        } catch (e) {\r\n            console.log(e)\r\n            return e\r\n        };\r\n    };\r\n};\r\n\r\nconst gotAttractions = attractions => {\r\n    return {\r\n        type: GET_ATTRACTIONS,\r\n        attractions\r\n    };\r\n};\r\n\r\n/**Get attraction details\r\n * - using attraction id, call TMApi class method to get attraction details\r\n */\r\nexport const getAttractionDetails = id => {\r\n    return async dispatch => {\r\n        const res = await TMApi.getAttractionDetails(id);\r\n        dispatch(gotAttractionDetails(res));\r\n    };\r\n};\r\n\r\nconst gotAttractionDetails = (attractionDetails=null) => {\r\n    return {\r\n        type: GET_ATTRACTION_DETAILS,\r\n        attractionDetails\r\n    };\r\n};","/**Card displayed on homepage that shows attraction name, image and event count\r\n * - rendered by AttractionCardList\r\n */\r\n\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AttractionCard = ({ name, img, id, eventCount }) => {\r\n   \r\n    return (\r\n        <div className='relative w-full h-28 sm:h-44 md:h-32 xl:h-48'>\r\n            <Link to={`/attraction/${id}`}>\r\n                <img src={img} alt={`${name}`} className='h-full w-full rounded object-cover' />\r\n                <div className='absolute bottom-0 bg-gray-900 bg-opacity-40 text-white rounded ml-2 mb-2 p-2'>\r\n                    <p className='font-semibold text-sm sm:text-base'>{name}</p>\r\n                    <p className='text-xs sm:text-sm'>{eventCount} events</p>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttractionCard;","/**Groups top attractions per classification on homepage\r\n * - displays title of classification and link to events\r\n */\r\n\r\nimport React from 'react';\r\n// import { useDispatch } from 'react-redux';\r\n// import { searchEvents } from '../actions/actionCreators';\r\nimport AttractionCard from './AttractionCard';\r\n// import { useNavigate } from 'react-router-dom';\r\n\r\nconst AttractionCardList = ({ title, attractions }) => {\r\n    // const dispatch = useDispatch();\r\n    // const navigate = useNavigate();\r\n\r\n    // const handleSeeAll = title => {\r\n    //     if (title === 'Arts & Theatre') title = 'arts&theatre';\r\n    //     dispatch(searchEvents({classificationName: title.toLowerCase()}));\r\n    //     history.push({\r\n    //         pathname: '/search',\r\n    //         search: `?classificationName=${title.toLowerCase()}`\r\n    //     });   \r\n    // };\r\n\r\n    return (\r\n        <div className='w-full flex flex-col items-center'>\r\n            <div className='lg:w-5/6 xl:w-4/5'>\r\n                <div className='mb-4 text-xl'>\r\n                    <h3 className='font-bold'>{title}</h3>\r\n                </div>\r\n                <div className='grid grid-cols-2 gap-2 md:grid-cols-4'>\r\n                    {attractions.map(a => (\r\n                                <AttractionCard \r\n                                    name={a.name} \r\n                                    img={a.images[1].url} \r\n                                    eventCount={a.upcomingEvents._total}\r\n                                    id={a.id}\r\n                                    key={a.id}\r\n                                />\r\n                        ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttractionCardList;","/**Homepage\r\n * - renders AttractionCardList\r\n */\r\n\r\n import React from 'react';\r\n import { useSelector } from 'react-redux'; \r\n import AttractionCardList from './AttractionCardList';\r\n\r\n \r\nconst Home = () => {\r\n    const attractions = useSelector(store => store.attractionsReducer.attractionsHome);\r\n    return (\r\n        <div className='flex flex-col items-center'>\r\n            <div className='w-full px-3'>\r\n            {Object.keys(attractions).map(a => (\r\n                <div key={a} className='mb-10'>\r\n                    <AttractionCardList title={attractions[a].title} attractions={attractions[a].attractions} />\r\n                </div>\r\n            ))}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\n\r\nconst FavoriteArtistsList = ({artists, handleUnfollow}) => { \r\n    return (\r\n        <>\r\n        {artists ?\r\n            <div className='sm:px-3'>\r\n                <h2 className='text-2xl font-semibold mb-10'>My Artists</h2>\r\n                {artists.map(a => (\r\n                <div key={a.id} className='border-b flex items-center justify-between py-4 px-1 hover:bg-gray-100'>\r\n                    <div className='flex items-center'>\r\n                        <div className=''>\r\n                            <img alt={a.name} src={a.photoUrl} className='w-16 md:w-24 rounded mr-4 md:mr-10'/>\r\n                        </div>\r\n                        <div className='pr-4'>\r\n                            <p className='text-sm sm:text-base font-semibold'>{a.name}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={() => handleUnfollow(a.id)} className='text-sm text-red-500 hover:underline'>\r\n                            Remove\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                ))}\r\n            </div> :\r\n        null\r\n        }\r\n        </>\r\n    )\r\n};\r\n\r\nexport default FavoriteArtistsList;","/**User profile\r\n * - displays:\r\n *      - basic user info\r\n *      - friends\r\n *      - artists following\r\n * - links to edit profile, view/find friends, view artists following\r\n */\r\n\r\nimport React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { removeArtist } from '../actions/actionCreators';\r\nimport FavoriteArtistsList from './FavoriteArtistsList';\r\n\r\n\r\nconst Profile = () => {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(store => store.userReducer.user);\r\n    const artists = user.artists;\r\n\r\n    const handleUnfollow = id => {\r\n        dispatch(removeArtist({\r\n            id: id,\r\n            username: user.username\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className='flex justify-center px-3'>\r\n            <div className='w-full md:w-4/5 lg:w-4/6 xl:w-3/5'>\r\n                <FavoriteArtistsList artists={artists} handleUnfollow={handleUnfollow}/>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;","/**Card that displays basic event info\r\n * - name\r\n * - venue\r\n * - date/time\r\n * - 'get tickets' button\r\n */\r\n\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AttractionCardSmall = ({ name, segment, genre, img, id }) => {\r\n\r\n    return (\r\n        <Link to={`/attraction/${id}`}>\r\n            <div className='border-b flex items-center hover:bg-gray-200 py-4'>\r\n                <div className='mr-10'>\r\n                    <img src={img} alt={name} className='w-20'/>\r\n                </div>\r\n                <div>\r\n                    <p className='font-semibold'>{name}</p>\r\n                    <p className='text-gray-500 text-sm'>{segment} / {genre}</p>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default AttractionCardSmall;","/**Search results for events\r\n * - shown when searching using search bar and when viewing attraction details\r\n * - renders EventCards\r\n */\r\n\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n// import { loadMore, searchEvents } from '../actions/actionCreators';\r\n// import { useLocation } from 'react-router-dom';\r\n// import queryString from 'query-string';\r\nimport AttractionCardSmall from './AttractionCardSmall';\r\n// import SearchFilters from './SearchFilters';\r\n\r\nconst AttractionSearchResults = ({attractionId, attractionName}) => {\r\n    // const dispatch = useDispatch();\r\n    const searchResults = useSelector(store => store.searchReducer);\r\n    const attractions = searchResults.attractions\r\n\r\n    \r\n    // const { search } = useLocation();\r\n    // const { location, keyword, classificationName } = queryString.parse(search);\r\n\r\n    // useEffect(() => {\r\n    //     if (!attractionId) {\r\n    //         if (events.length === 0) dispatch(searchEvents(queryString.parse(search)));\r\n    //     };\r\n    // }, [])\r\n\r\n    return (\r\n        <>\r\n        {attractions ?\r\n            attractions.map(a => (\r\n                <div key={a.id}>\r\n                    <AttractionCardSmall \r\n                        name={a.name}\r\n                        segment={a.classifications[0].segment ? a.classifications[0].segment.name : null}\r\n                        genre={a.classifications[0].genre ? a.classifications[0].genre.name : null}\r\n                        img={a.images[0].url}\r\n                        id={a.id}\r\n                    />\r\n                </div>\r\n            )) :\r\n            <p>Couldn't find anything matching your search.</p>\r\n        }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AttractionSearchResults;","/**Card that displays basic event info\r\n * - name\r\n * - venue\r\n * - date/time\r\n * - 'get tickets' button\r\n */\r\n\r\nimport React from 'react';\r\nimport dayjs from 'dayjs';\r\n\r\nconst EventCard = ({ name, id, img, date, time, venue, ticketUrl}) => {\r\n\r\n    return (\r\n        <div className='border-b flex justify-between py-4 px-2 hover:bg-gray-100'>\r\n            <div className='flex flex-col md:flex-row'>\r\n                <div className='mr-10 flex items-baseline md:flex-col md:w-28'>\r\n                    <p className='text-indigo-600 font-semibold mr-3 uppercase'>{dayjs(date).format('MMM D')}</p>\r\n                    <p className='text-gray-500'>{dayjs(`${date} ${time}`).format('ddd h:mm a')}</p>\r\n                </div>\r\n                <div className='pr-2'>\r\n                    <p className='font-semibold'>{name}</p>\r\n                    <p className='text-gray-500 text-sm'>{venue}</p>\r\n                </div>\r\n            </div>\r\n            <div className='mt-1'>\r\n                <a href={ticketUrl} target='_blank' rel='noreferrer'>\r\n                    <button className='bg-blue-600 px-6 py-2 tracking-wider rounded text-white hover:bg-blue-800'>Tickets</button>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EventCard;","/**Search results for events\r\n * - shown when searching using search bar and when viewing attraction details\r\n * - renders EventCards\r\n */\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { loadMore, searchEvents } from '../actions/actionCreators';\r\nimport { useLocation } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport EventCard from './EventCard';\r\n\r\nconst EventSearchResults = ({attractionId, attractionName}) => {\r\n    \r\n    const dispatch = useDispatch();\r\n    const searchResults = useSelector(store => store.searchReducer);\r\n    const events = searchResults.events;\r\n\r\n    let loadMoreLink\r\n    searchResults.link ?  loadMoreLink = searchResults.link.href : loadMoreLink = null\r\n    const { search } = useLocation();\r\n    const { location, keyword } = queryString.parse(search);\r\n\r\n    useEffect(() => {\r\n        if (!attractionId) {\r\n            if (events.length === 0) dispatch(searchEvents(queryString.parse(search)));\r\n        };\r\n    }, [attractionId, dispatch, events.length, search])\r\n\r\n    const handleLoadMore = () => {\r\n        dispatch(loadMore(loadMoreLink));\r\n    };\r\n\r\n    return (\r\n        <>\r\n        {events ? \r\n            <div className=''>\r\n                \r\n                {attractionName &&\r\n                    <p className='mb-10 font-semibold text-xl'>\r\n                        Upcoming Events for {attractionName}\r\n                    </p>\r\n                }\r\n                {events.length === 0 ? \r\n                    <div>\r\n                        {keyword || location ? \r\n                        <p>Unfortunately, there are no upcoming events for {keyword} matching your criteria.</p> :\r\n                        <p>Unfortunately, there are no upcoming events for this artist.</p>\r\n                        }\r\n                    </div> :\r\n                    <>\r\n                    {events.map(e => (\r\n                    <div key={e.id}>\r\n                        <EventCard \r\n                            name={e.name} \r\n                            date={e.dates.start.localDate}\r\n                            time={e.dates.start.localTime}\r\n                            img={e.images[2].url}\r\n                            id={e.id}\r\n                            ticketUrl={e.url}\r\n                            venue={e._embedded ? e._embedded.venues[0].name : null}\r\n                        />\r\n                    </div>\r\n                    ))}\r\n                    </>\r\n                }\r\n                {loadMoreLink &&\r\n                <div className='flex justify-center'>\r\n                    <div className='flex justify-center w-1/2 my-10'>\r\n                        <button onClick={handleLoadMore} className='w-full py-2 px-4 border border-blue-600 rounded hover:bg-blue-600 hover:text-white'>Load More</button>\r\n                    </div>\r\n                </div>\r\n                }\r\n            </div> :\r\n            null\r\n        }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EventSearchResults;","import React, { useState } from 'react';\r\nimport queryString from 'query-string';\r\nimport { useLocation } from 'react-router-dom';\r\nimport AttractionSearchResults from './AttractionSearchResults';\r\nimport EventSearchResults from './EventSearchResults';\r\n\r\nconst SearchResults = () => {\r\n    const [activeLink, setActiveLink] = useState('attractions');\r\n    const { search } = useLocation();\r\n    let { keyword } = queryString.parse(search);\r\n\r\n    const handleAttractionsClick = () => {\r\n        setActiveLink('attractions')\r\n    }\r\n\r\n    const handleEventsClick = () => {\r\n        setActiveLink('events')\r\n    }\r\n\r\n    return (\r\n        <div className='flex justify-center px-3'>\r\n            <div className='lg:w-3/5'>\r\n                <div className='text-2xl mb-8'>\r\n                    <p>Searching for <span className='font-semibold text-indigo-700'>\"{keyword}\"</span></p>\r\n                </div>\r\n                <div className='flex text-xl'>\r\n                    <button onClick={handleAttractionsClick} className={`mb-8 mr-6 py-2 ${activeLink === 'attractions' ? 'border-b-4 border-blue-500' : 'border-b-4 border-transparent'}`}>Attractions</button>\r\n                    <button onClick={handleEventsClick} className={`mb-8 py-2 ${activeLink === 'events' ? 'border-b-4 border-blue-500' : 'border-b-4 border-transparent'}`}>Events</button>\r\n                </div>\r\n                <div>\r\n                    {activeLink === 'attractions' ? \r\n                        <AttractionSearchResults /> :\r\n                        <EventSearchResults />\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SearchResults;","/**Details for an attraction to be shown on attraction page\r\n * - name\r\n * - genre\r\n * - faux rating\r\n * - follow button\r\n * - image\r\n * - event results\r\n */\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAttractionDetails, searchEvents, addArtist, removeArtist } from '../actions/actionCreators';\r\nimport EventSearchResults from './EventSearchResults';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faHeart as faHeartRegular} from '@fortawesome/free-regular-svg-icons'\r\nimport {faHeart as faHeartSolid} from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst AttractionDetail = () => {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const { attractionId } = useParams();\r\n    const [isFollowing, setIsFollowing] = useState(false);\r\n    const attraction = useSelector(store => store.attractionsReducer.details);\r\n    const user = useSelector(store => store.userReducer.user);\r\n\r\n    // const checkIfFollowing = () => {\r\n    //     if (user.loggedIn) setIsFollowing(user.artists.map(a => a.id).includes(attractionId));\r\n    // };\r\n\r\n    useEffect(() => {\r\n        dispatch(getAttractionDetails(attractionId));\r\n        dispatch(searchEvents({attractionId}));\r\n        if (user.loggedIn) setIsFollowing(user.artists.map(a => a.id).includes(attractionId));\r\n    }, [attractionId, dispatch, user.loggedIn, user.artists]);\r\n\r\n    const handleFollow = () => {\r\n        if (user.loggedIn) {\r\n            dispatch(addArtist({\r\n                id: attractionId,\r\n                name: attraction.name,\r\n                photoUrl: attraction.images[2].url,\r\n                username: user.username\r\n            }));\r\n            setIsFollowing(true);\r\n        } else {\r\n            navigate('/login')\r\n        }            \r\n    };\r\n\r\n    const handleUnfollow = () => {\r\n        dispatch(removeArtist({\r\n            id: attractionId,\r\n            username: user.username\r\n        }));\r\n        setIsFollowing(false);\r\n    };\r\n\r\n    const renderFollowButton = () => (\r\n        isFollowing ? \r\n        <div className='flex ml-1'>\r\n            <button onClick={handleUnfollow} className='mr-2'>\r\n                <FontAwesomeIcon icon={faHeartSolid} className='text-xl text-red-500'/>\r\n            </button>\r\n            <p className='text-sm text-gray-400 italic'>Following</p>\r\n        </div> :\r\n        <div className='flex ml-1'>\r\n            <button onClick={handleFollow} className='mr-2'>\r\n                <FontAwesomeIcon icon={faHeartRegular} className='text-xl text-gray-700'/>\r\n            </button> \r\n            <p className='text-sm text-gray-400'>Follow</p>\r\n        </div>\r\n    );\r\n    \r\n    return (\r\n    <>\r\n    {attraction ?\r\n        <div className='flex justify-center px-3'>\r\n            <div className='flex flex-col items-center md:w-4/5 lg:w-3/5'>\r\n                <div className='sm:grid sm:grid-cols-2 w-full'>\r\n                    <div className='sm:order-last lg:flex lg:justify-end'>\r\n                            {attraction.images ?\r\n                                <img alt={attraction.name} className='rounded mb-4 w-full' src={attraction.images[2].url}/> :\r\n                                null\r\n                            }\r\n                    </div>\r\n                    <div>\r\n                        <p className='text-5xl mb-4'>{attraction.name}</p>\r\n                        {attraction.classifications ? \r\n                        <p className='mb-4 ml-1 text-xl text-gray-500'>\r\n                            {attraction.classifications[0].segment.name} / {attraction.classifications[0].genre.name}\r\n                        </p> :\r\n                        null\r\n                        }\r\n                        {renderFollowButton()}\r\n                    </div>\r\n                </div>\r\n                <div className='w-full mt-10'>\r\n                    <EventSearchResults attractionId={attraction.id} attractionName={attraction.name}/>\r\n                </div>\r\n            </div>\r\n        </div> :\r\n        <p>loading</p>\r\n    }\r\n    </>\r\n    );\r\n    \r\n};\r\n\r\nexport default AttractionDetail;","/**Filters to be shown when searching events\r\n * - rendered by SearchResults\r\n * - filters for date, classification, radius, sort by\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { searchEvents } from '../actions/actionCreators';\r\nimport dayjs from 'dayjs';\r\nimport queryString from 'query-string';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\n\r\nconst EventFilters = ({ attractionId }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const { search } = useLocation();\r\n    let { location, keyword, startDateTime, sort, radius, classificationName } = queryString.parse(search);\r\n    if (classificationName === 'arts') classificationName = 'arts&theatre';\r\n    \r\n    const INITIAL_STATE = {\r\n        startDateTime: startDateTime || dayjs().format(),\r\n        location: location || '',\r\n        classificationName: classificationName || 'all',\r\n        sort: sort || 'date,asc',\r\n        radius: radius || '50'\r\n    };\r\n    const [filterData, setFilterData] = useState(INITIAL_STATE);\r\n\r\n    // useEffect(() => {\r\n    //     setFilterData(INITIAL_STATE)\r\n    // }, [location, keyword, classificationName, startDateTime])\r\n\r\n    // const handleDateChange = date => {\r\n    //     const formattedDate = dayjs(date).format('YYYY-MM-DDTHH:mm:ss')\r\n    //     setFilterData(data => ({...data, startDateTime: formattedDate}));\r\n    // };\r\n\r\n    const handleChange = evt => {\r\n        const {name, value} = evt.target;\r\n        setFilterData(data => ({...data, [name]: value}))\r\n        console.log(filterData)\r\n    };\r\n\r\n    const handleSubmit = evt => {\r\n        evt.preventDefault();\r\n        if (attractionId) {\r\n            dispatch(searchEvents({ \r\n                attractionId, \r\n                // sort: filterData.sort,\r\n                startDateTime: dayjs(filterData.startDateTime).format()}));\r\n        } else {\r\n            dispatch(searchEvents({\r\n                ...queryString.parse(search), \r\n                ...filterData, \r\n                classificationName: filterData.classificationName === 'all' ? '' : filterData.classificationName,\r\n                startDateTime: dayjs(filterData.startDateTime).format()}));\r\n            navigate({\r\n                pathname: '/discover',\r\n                search: `?location=${filterData.location || ''}&keyword=${keyword || ''}&startDateTime=${dayjs(filterData.startDateTime).format()}&classificationName=${filterData.classificationName}&sort=${filterData.sort}&radius=${filterData.radius}`\r\n            });\r\n        };\r\n    };\r\n    \r\n    return (\r\n        <div className='sm:w-1/2 xl:w-1/3'>\r\n            <form onSubmit={handleSubmit}>\r\n            <div className='flex flex-col'>\r\n                <div className='mb-2'>\r\n                    <input \r\n                        type='text'\r\n                        name='location'\r\n                        id='location'\r\n                        value={filterData.location}\r\n                        onChange={handleChange}\r\n                        placeholder='Enter city or zip'\r\n                        className='border-blue-500 rounded mb-2 w-full'\r\n                    />\r\n                    <input \r\n                        type='date'\r\n                        id='datePicker'\r\n                        name='startDateTime'\r\n                        value={filterData.startDateTime}\r\n                        onChange={handleChange}\r\n                        className='border-blue-500 rounded w-full'\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <button className='bg-gray-200 px-3 py-2 rounded text-gray-700 text-sm ml-1'>Apply Filters</button>\r\n                </div>\r\n            </div>\r\n            </form>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EventFilters;","import React from 'react';\r\nimport queryString from 'query-string';\r\nimport { useLocation } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport EventSearchResults from './EventSearchResults';\r\nimport EventFilters from './EventFilters';\r\n\r\nconst Discover = () => {\r\n    const { search } = useLocation();\r\n    let { location, startDateTime, classificationName } = queryString.parse(search);\r\n\r\n    if (classificationName === 'arts') classificationName = 'arts & theater' \r\n\r\n    // const INITIAL_STATE = {\r\n    //     location: location || null,\r\n    //     startDateTime: startDateTime || null,\r\n    //     classificationName: classificationName \r\n    // }\r\n    // const [queries, setQueries] = useState(INITIAL_STATE)\r\n\r\n    const renderHeading = () => {\r\n        return (\r\n            <div className='text-2xl mb-10'>\r\n            <p className='inline'>Showing upcoming <span className='font-semibold text-indigo-700'>{classificationName}</span> events</p>\r\n            {location ? \r\n                <p className='inline'> near <span className='font-semibold text-indigo-700'>{location}</span></p> : \r\n                null\r\n            }\r\n            {startDateTime ?\r\n                <p className='inline'> starting <span className='font-semibold text-indigo-700'>{dayjs(startDateTime).format('MMM D YYYY')}</span></p> :\r\n                null\r\n            }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className='flex justify-center px-3'>\r\n            <div className='lg:w-3/5'>\r\n                <div>\r\n                    {renderHeading()}\r\n                </div>\r\n                <div className='mb-10'>\r\n                    <EventFilters />\r\n                </div>\r\n                <div>\r\n                    <EventSearchResults />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Discover;","/**Login form */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginUser } from '../actions/actionCreators';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst LoginForm = () => {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const user = useSelector(store => store.userReducer.user);\r\n    let timeout\r\n\r\n    const INITIAL_STATE = {\r\n        username: '',\r\n        password: '',\r\n        usernameError: '',\r\n        passwordError: ''\r\n    };\r\n\r\n    const [formData, setFormData] = useState(INITIAL_STATE);\r\n    // const [formErr, setFormErr] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (user.loggedIn) {\r\n            navigate('/')\r\n        }\r\n        return () => {\r\n            clearTimeout(timeout)\r\n        }\r\n    }, [user.loggedIn, navigate, timeout])\r\n\r\n    const validateForm = () => {\r\n        let validForm = true\r\n        if (!formData.username) {\r\n          setFormData(data => ({\r\n            ...data, usernameError: 'Username cannot be blank'\r\n          }))\r\n          validForm = false\r\n        } else {\r\n          setFormData(data => ({\r\n            ...data, usernameError: ''\r\n          }))\r\n        }\r\n        if (!formData.password) {\r\n          setFormData(data => ({\r\n            ...data, passwordError: 'Password cannot be blank'\r\n          }))\r\n          validForm = false\r\n        } else {\r\n            setFormData(data => ({\r\n              ...data, passwordError: ''\r\n            }))\r\n        }\r\n        return validForm\r\n    };\r\n\r\n    const handleChange = evt => {\r\n        const {name, value} = evt.target;\r\n        setFormData(data => ({...data, [name]: value}));\r\n    };\r\n\r\n    const checkCredentials = () => {\r\n        timeout = setTimeout(() => {\r\n            if (!user.loggedIn) {\r\n                setFormData(data => ({\r\n                    ...data, usernameError: 'Invalid username/password', passwordError: 'Invalid username/password'\r\n                }))\r\n            } \r\n        }, 1000)\r\n        \r\n    }\r\n\r\n    const handleSubmit = evt => {\r\n        evt.preventDefault();\r\n        let isValidForm = validateForm()\r\n        if (isValidForm) {\r\n            dispatch(loginUser(\r\n                {\r\n                    username: formData.username,\r\n                    password: formData.password\r\n                }\r\n            ));   \r\n            checkCredentials();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='flex justify-center px-3'>\r\n        <div className='w-full sm:w-3/4 md:w-1/2 lg:w-5/12 xl:w-1/4'>\r\n            <div className='rounded bg-white'>\r\n                <form onSubmit={handleSubmit} className=''>\r\n                    <div className='mb-3'>\r\n                        <label htmlFor='username' className='block text-sm text-gray-700 mb-1'>Username</label>\r\n                        <input \r\n                            type='text' \r\n                            name='username' \r\n                            id='username'\r\n                            maxLength='25' \r\n                            value={formData.username}\r\n                            onChange={handleChange}\r\n                            className='w-full border-gray-300 rounded focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50' />\r\n                        {formData.usernameError ? \r\n                            <p className='text-xs text-red-500 mt-1'>{formData.usernameError}</p> :\r\n                            null\r\n                        }\r\n                    </div>\r\n                    <div className='mb-3'>\r\n                        <label htmlFor='password' className='block text-sm text-gray-700 mb-1'>Password</label>\r\n                        <input \r\n                            type='password' \r\n                            name='password' \r\n                            id='password'\r\n                            maxLength='25' \r\n                            value={formData.password}\r\n                            onChange={handleChange}\r\n                            className='w-full border-gray-300 rounded shadow-sm focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50' />\r\n                        {formData.passwordError ? \r\n                            <p className='text-xs text-red-500 mt-1'>{formData.passwordError}</p> :\r\n                            null\r\n                        }\r\n                    </div>\r\n                        <button\r\n                            className='text-white uppercase tracking-wider bg-blue-500 mt-4 py-3 rounded w-full hover:bg-blue-600  focus:outline-none focus:ring focus:ring-offset-2 focus:ring-blue-500 focus:ring-opacity-50 active:bg-blue-600' >\r\n                                Login\r\n                        </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginForm;","/**App routes */\r\n\r\nimport React from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\n// import RegisterForm from './RegisterForm';\r\n// import LoginForm from './LoginForm';\r\nimport Profile from './Profile';\r\nimport SearchResults from './SearchResults';\r\nimport AttractionDetail from './AttractionDetail';\r\nimport Discover from './Discover';\r\nimport LoginForm from './LoginForm';\r\n// import EditProfileForm from './EditProfileForm';\r\n// import ArtistsList from './ArtistsList';\r\n// import EventDetail from './EventDetail';\r\n\r\nconst RoutesComponent = () => {\r\n    return (    \r\n        <Routes>\r\n            <Route path='/login' element={<LoginForm />} />\r\n            <Route path='/profile' element={<Profile />} />\r\n            <Route path='/attraction/:attractionId' element={<AttractionDetail />} />\r\n            <Route path='/search' element={<SearchResults />} />\r\n            <Route path='/discover' element={<Discover />}/>\r\n            <Route path='/' element={<Home />}/>\r\n        </Routes>    \r\n    );\r\n};\r\n\r\nexport default RoutesComponent;","/**Search bar rendered in Header\r\n * - allows searching by keyword and location\r\n *    - location can be city name or zipcode\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport { searchEvents, searchAttractions } from '../actions/actionCreators';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faMagnifyingGlass} from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Search = () => {\r\n    \r\n    const { search } = useLocation();\r\n    const { location, keyword } = queryString.parse(search);\r\n\r\n    const INITIAL_STATE = {\r\n    location: '',\r\n    keyword: ''\r\n    };\r\n    const [formData, setFormData] = useState(INITIAL_STATE);\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n    setFormData({\r\n        location: location || '',\r\n        keyword: keyword || ''\r\n    })\r\n    }, [search, keyword, location])\r\n\r\n    const handleChange = evt => {\r\n    const {name, value} = evt.target\r\n    setFormData(data => ({...data, [name]: value}))\r\n    };\r\n\r\n    const handleSubmit = evt => {\r\n        evt.preventDefault();\r\n        try {\r\n            dispatch(searchAttractions(formData));\r\n            dispatch(searchEvents(formData));\r\n            navigate({\r\n            pathname: '/search',\r\n            // search: `?location=${formData.location}&keyword=${formData.keyword}`,\r\n            search: `?keyword=${formData.keyword}`\r\n            });\r\n        } catch (e) {\r\n            console.log(e)\r\n        };\r\n    };\r\n\r\n    return (\r\n        <div >\r\n            <form onSubmit={handleSubmit}>\r\n                <div className='flex items-center'>\r\n                    <input \r\n                        type='text'\r\n                        placeholder='Search events and attractions'\r\n                        name='keyword'\r\n                        value={formData.keyword}\r\n                        onChange={handleChange}\r\n                        className='rounded bg-white placeholder-opacity-80 w-72 px-4 py-2 mr-3 lg:mr-2'\r\n                    />\r\n                    <button>\r\n                        <FontAwesomeIcon icon={faMagnifyingGlass} className='text-xl text-white'/>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;","/**Header \r\n * - nav links\r\n * - renders search bar\r\n*/\r\n\r\nimport React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logoutUser } from '../actions/actionCreators';\r\nimport { searchEvents } from '../actions/actionCreators';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faBars} from '@fortawesome/free-solid-svg-icons'\r\nimport Search from './Search';\r\n\r\nconst Header = () => {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(store => store.userReducer.user);\r\n    const [navbarOpen, setNavbarOpen] = useState(false)\r\n\r\n    const handleLogout = () => {\r\n        dispatch(logoutUser());\r\n        navigate('/')\r\n    };\r\n\r\n    const renderUserLinks = () => {\r\n        if (user.loggedIn) {\r\n            return (\r\n                <>\r\n                <li className='nav-item px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75'>\r\n                    <Link to='/profile'>\r\n                        <button className='font-semibold mr-4'>My Profile</button>\r\n                    </Link>\r\n                </li>\r\n                <li className='nav-item px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75'>\r\n                    <button onClick={handleLogout} className='font-semibold'>Logout</button>\r\n                </li>\r\n                </>\r\n            );\r\n        } else {\r\n            return(\r\n                <>\r\n                {/* <Link to='/register'>\r\n                    <button className='mr-6 font-semibold'>Register</button>\r\n                </Link> */}\r\n                <li className='nav-item px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75'>\r\n                    <Link to='/login'>\r\n                        <button className='font-semibold'>Login</button>\r\n                    </Link>\r\n                </li>\r\n                </>\r\n            );\r\n        };\r\n    };\r\n\r\n    const navigate = useNavigate()\r\n    const handleClick = title => {\r\n        dispatch(searchEvents({classificationName: title}));\r\n        navigate({\r\n            pathname: '/discover',\r\n            search: `?classificationName=${title}`\r\n        });   \r\n    };\r\n    \r\n    return (\r\n        <nav className=\"relative flex flex-wrap items-center justify-between px-2 py-3 lg:py-6 bg-blue-500 mb-3\">\r\n            <div className=\"container px-2 mx-auto flex flex-wrap items-center justify-between lg:px-0\">\r\n                <div className=\"w-full px-1 relative flex justify-between lg:px-0 lg:w-auto lg:static lg:block lg:justify-start lg:mr-6\">\r\n                    <Link\r\n                        to='/'\r\n                        className=\"font-semibold text-2xl italic leading-relaxed inline-block py-2 whitespace-nowrap text-white\"\r\n                    >\r\n                    EventFinder\r\n                    </Link>\r\n                    \r\n                    <button\r\n                        className=\"text-white cursor-pointer text-2xl leading-none px-1 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\r\n                        type=\"button\"\r\n                        onClick={() => setNavbarOpen(!navbarOpen)}\r\n                    >\r\n                        <FontAwesomeIcon icon={faBars}/>\r\n                    </button>\r\n                </div>\r\n                <div\r\n                    className={\r\n                        \"flex-col flex-grow items-start lg:flex lg:flex-row lg:justify-between\" +\r\n                        (navbarOpen ? \" flex\" : \" hidden\")\r\n                    }\r\n                    id=\"example-navbar-danger\"\r\n                >\r\n                    <div className='lg:flex lg:flex-row'>\r\n                        <ul className=\"flex flex-col lg:flex-row list-none lg:ml-auto\">\r\n                            <Search/>\r\n                            <li className=\"nav-item lg:ml-6\">\r\n                                <button onClick={() => handleClick('music')} className='px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75'>Concerts</button>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <button onClick={() => handleClick('sports')} className='px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75'>Sports</button>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <button onClick={() => handleClick('arts&theatre')} className='px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75'>Arts & Theater</button>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className='lg:flex lg:flex-row'>\r\n                        <ul className=\"flex flex-col lg:flex-row list-none lg:ml-auto\">\r\n                            {renderUserLinks()}\r\n                        </ul>\r\n                    </div>\r\n                    \r\n                            \r\n                            \r\n                    \r\n                    \r\n                </div>\r\n            </div>  \r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className='flex justify-center py-10 text-sm text-gray-600'>\r\n            <p>EventFinder 2021</p>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Footer;","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUser, getAttractions } from '../actions/actionCreators';\nimport RoutesComponent from './RoutesComponent';\nimport Header from './Header';\nimport Footer from './Footer';\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const storedToken = localStorage.getItem('token') || null;\n  const user = useSelector(store => store.userReducer.user);\n\n  // const getLocation = () => {\n  //   if (navigator.geolocation) {\n  //     navigator.geolocation.getCurrentPosition(showPosition);\n  //   } else {\n  //     console.log('geolocation not supported')\n  //   }\n  // }\n\n  // const showPosition = pos => {\n  //   console.log(`latitude: ${pos.coords.latitude}, longitude: ${pos.coords.longitude}`)\n  // }\n\n  useEffect(() => {\n    if (storedToken) {\n      dispatch(getUser(storedToken));\n    };\n    // getLocation()\n    dispatch(getAttractions());\n  }, [storedToken, dispatch, user.loggedIn]);\n\n  return (\n    <div className='flex flex-col min-h-screen'>\n      <div className='mb-10'>\n        <Header />\n      </div>  \n      <div className=''>\n        <RoutesComponent />\n      </div>\n      <div className='flex flex-grow' />\n      <div>\n        <Footer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/**Search reducer handles searches of events and users\r\n * - events from search bar or attraction details\r\n * - event details\r\n * - users when searching users by usernames\r\n */\r\n\r\nimport { SEARCH_EVENTS, SEARCH_ATTRACTIONS, LOAD_MORE, GET_EVENT_DETAIL, SEARCH_USERS, CLEAR_SEARCH_USERS } from '../actions/actionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    events: [],\r\n    link: '',\r\n    eventDetail: {},\r\n    attractions: [],\r\n    users: []\r\n};\r\n\r\nconst searchReducer = (state=INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n        case SEARCH_EVENTS:\r\n            let events\r\n            action.searchResults._embedded ? events = action.searchResults._embedded.events : events = []\r\n            return {...state, events: events, link: action.searchResults._links.next}\r\n        case LOAD_MORE:\r\n            return {...state, events: [...state.events, ...action.results._embedded.events], link: action.results._links.next}\r\n        case GET_EVENT_DETAIL:\r\n            return {...state, eventDetail: action.eventDetail}\r\n        case SEARCH_ATTRACTIONS:\r\n            return {...state, attractions: action.searchAttractionsResults._embedded.attractions}\r\n        case SEARCH_USERS:\r\n            return {...state, users: action.users}\r\n        case CLEAR_SEARCH_USERS:\r\n            return {...state, users: []}\r\n        default:\r\n            return state\r\n    };\r\n};\r\n\r\nexport default searchReducer;","/**Attractions reducer handles changes to attraction data in state\r\n * - main attractions shown on homepage\r\n * - attraction details shown on attraction detail page\r\n*/\r\n\r\nimport { GET_ATTRACTIONS, GET_ATTRACTION_DETAILS } from '../actions/actionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    attractionsHome: {\r\n        music: {\r\n            title: 'Music',\r\n            attractions: []\r\n        },\r\n        sports: {\r\n            title: 'Sports',\r\n            attractions: []\r\n        },\r\n        films: {\r\n            title: 'Films',\r\n            attractions: []\r\n        },\r\n        artsAndTheatre: {\r\n            title: 'Arts & Theatre',\r\n            attractions: []\r\n        }\r\n    },\r\n    details: {}\r\n};\r\n\r\nconst attractionsReducer = (state=INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case GET_ATTRACTIONS:\r\n            return {...state, \r\n                attractionsHome: {...state.attractionsHome,\r\n                    music: {...state.attractionsHome.music, attractions: action.attractions.music}, \r\n                    sports: {...state.attractionsHome.sports, attractions: action.attractions.sports}, \r\n                    films: {...state.attractionsHome.films, attractions: action.attractions.films},\r\n                    artsAndTheatre: {...state.attractionsHome.artsAndTheatre, attractions: action.attractions.artsAndTheatre}\r\n                }\r\n            };\r\n        case GET_ATTRACTION_DETAILS:\r\n                return {...state,\r\n                        details: action.attractionDetails\r\n                }\r\n        default:\r\n            return state    \r\n    };\r\n};\r\n\r\nexport default attractionsReducer;","/**User reducer handles all changes to user data in state\r\n * - username, first name, last name, email, photo url\r\n * - friends\r\n * - artists following\r\n * - is logged in\r\n */\r\n\r\nimport { \r\n    CREATE_USER, \r\n    GET_USER, \r\n    UPDATE_USER, \r\n    LOGIN_USER, \r\n    LOGOUT_USER, \r\n    ADD_ARTIST, \r\n    REMOVE_ARTIST, \r\n} from \"../actions/actionTypes\";\r\n\r\nconst INITIAL_STATE = {\r\nuser: {\r\n    loggedIn: false,\r\n    artists: []\r\n}\r\n};\r\n\r\nconst userReducer = (state=INITIAL_STATE, action) => {\r\nswitch(action.type) {\r\n    case CREATE_USER:\r\n        return {...state, user: {...action.user, loggedIn: true}};\r\n    case LOGIN_USER:\r\n        return {...state, user: {...action.user, loggedIn: true}};\r\n    case GET_USER:\r\n        return {...state, user: {...action.user, loggedIn: true}};\r\n    case UPDATE_USER:\r\n        return {...state, \r\n            user: {\r\n                ...state.user,\r\n                firstName: action.user.firstName,\r\n                lastName: action.user.lastName,\r\n                email: action.user.email\r\n            }\r\n        };\r\n    case LOGOUT_USER:\r\n        return INITIAL_STATE;\r\n    case ADD_ARTIST:\r\n        return {...state, user: {...state.user, artists: [...state.user.artists, action.artist]}};\r\n    case REMOVE_ARTIST:\r\n        return {...state, user: {...state.user, artists: state.user.artists.filter(a => a.id !== action.id)}};\r\n    default:\r\n        return state\r\n};\r\n};\r\n\r\nexport default userReducer;","/**Combine reducers into single rootReducer */\r\n\r\nimport { combineReducers } from 'redux';\r\nimport searchReducer from './searchReducer';\r\nimport attractionsReducer from './attractionsReducer';\r\nimport userReducer from './userReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    searchReducer,\r\n    attractionsReducer,\r\n    userReducer\r\n});\r\n\r\nexport default rootReducer;","/**Scroll to top of page when path changes */\r\n\r\nimport { useEffect } from 'react';\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst ScrollToTop = () => {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ScrollToTop;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { BrowserRouter } from 'react-router-dom';\nimport rootReducer from './reducers/rootReducer';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport ScrollToTop from './components/ScrollToTop';\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <BrowserRouter>\n          <ScrollToTop />\n          <App />\n        </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}