(this["webpackJsonpevent-finder"]=this["webpackJsonpevent-finder"]||[]).push([[0],{169:function(e,t,r){},196:function(e,t){},198:function(e,t){},211:function(e,t){},213:function(e,t){},241:function(e,t){},243:function(e,t){},244:function(e,t){},249:function(e,t){},251:function(e,t){},257:function(e,t){},259:function(e,t){},278:function(e,t){},290:function(e,t){},293:function(e,t){},325:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(59),c=r.n(s),i=(r(169),r(6)),l=r(7),o=r(5),u=r.n(o),d=r(12),b=r(25),j=r.n(b),m="CREATE_USER",x="GET_USER",f="LOGIN_USER",h="UPDATE_USER",O="LOGOUT_USER",p="SEARCH_EVENTS",v="SEARCH_USERS",g="CLEAR_SEARCH_USERS",N="LOAD_MORE",w="SEARCH_ATTRACTIONS",y="GET_ATTRACTIONS",k="GET_ATTRACTION_DETAILS",E="GET_EVENT_DETAIL",T="ADD_ARTIST",S="REMOVE_ARTIST",A=r(159),C=r.n(A),R=r(2),I=r(160),D=r(161),_="sY0V0bcC0RC1F9yjSh1wrBB70hXSQswG",F="https://app.ticketmaster.com/discovery/v2",L=function(){function e(){Object(I.a)(this,e)}return Object(D.a)(e,null,[{key:"request",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.includes("discovery")?(t=t.replace("/discovery/v2",""),a="".concat(F,"/").concat(t)):a="".concat(F,"/").concat(t,".json"),e.prev=2,e.next=5,j()({url:a,method:"get",params:Object(R.a)(Object(R.a)({},r),{},{apikey:_})});case 5:return e.abrupt("return",e.sent.data);case 8:e.prev=8,e.t0=e.catch(2),console.error("API Error:",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchEvents",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(R.a)({},t),t.location&&(+t.location?r.postalCode=t.location:r.city=t.location,delete r.location),e.next=5,this.request("events",Object(R.a)(Object(R.a)({},r),{},{size:10}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchAttractions",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(R.a)({},t),e.next=3,this.request("attractions",Object(R.a)(Object(R.a)({},r),{},{size:50}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEventDetail",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("events/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAttractions",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("attractions",{classificationName:t,size:8});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadMore",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAttractionDetails",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("/attractions/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),U=L,M="https://react-event-finder.herokuapp.com",H=function(e){return{type:m,user:e}},P=function(e){return{type:f,user:e}},q=function(){return{type:O}},G=function(e){return{type:x,user:e}},Y=function(e){return{type:T,artist:e}},B=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.delete("".concat(M,"/users/").concat(e.username,"/artists"),{data:e});case 3:a=t.sent,r(J(a.data.id)),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 11:case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return{type:S,id:e}},z=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.searchEvents(e);case 3:a=t.sent,r(V(a)),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 11:case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},V=function(e){return{type:p,searchResults:e}},W=function(e){return{type:w,searchAttractionsResults:e}},Q=function(e){return{type:N,results:e}},X=function(e){return{type:y,attractions:e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:k,attractionDetails:e}},Z=r(9),$=r(0),ee=function(e){var t=e.name,r=e.img,a=e.id,n=e.eventCount;return Object($.jsx)("div",{className:"relative w-full group h-28 overflow-hidden sm:h-44 md:h-32 xl:h-48",children:Object($.jsxs)(Z.b,{to:"/attraction/".concat(a),children:[Object($.jsx)("img",{src:r,alt:"".concat(t),className:"h-full w-full rounded object-cover transition-transform duration-500 ease-in-out transform group-hover:scale-110"}),Object($.jsxs)("div",{className:"absolute bottom-0 bg-gray-900 bg-opacity-40 text-white rounded ml-2 mb-2 p-2",children:[Object($.jsx)("p",{className:"font-semibold text-sm sm:text-base",children:t}),Object($.jsxs)("p",{className:"text-xs sm:text-sm",children:[n," events"]})]})]})})},te=function(e){var t=e.title,r=e.attractions,a=Object(l.b)(),n=Object(i.f)(),s=function(e){var t=e.findIndex((function(e){return 640===e.width}));return e[t].url};return Object($.jsx)("div",{className:"w-full flex flex-col items-center",children:Object($.jsxs)("div",{children:[Object($.jsxs)("div",{className:"flex justify-between",children:[Object($.jsx)("div",{className:"mb-4 text-xl",children:Object($.jsx)("h3",{className:"font-semibold",children:t})}),Object($.jsx)("div",{children:Object($.jsxs)("button",{onClick:function(){return function(e){"Arts & Theatre"===e&&(e="arts&theatre"),a(z({classificationName:e.toLowerCase()})),n({pathname:"/discover",search:"?classificationName=".concat(e.toLowerCase())})}(t)},className:"text-sm text-blue-500 font-semibold transition-colors duration-200 ease-in-out hover:text-blue-600",children:["See All ",t]})})]}),Object($.jsx)("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-4",children:r.map((function(e){return Object($.jsx)(ee,{name:e.name,img:s(e.images),eventCount:e.upcomingEvents._total,id:e.id},e.id)}))})]})})},re=function(e){var t=e.artists;return Object($.jsx)("div",{className:"w-full flex flex-col",children:Object($.jsxs)("div",{children:[Object($.jsx)("div",{className:"mb-4 text-2xl",children:Object($.jsx)("h3",{className:"font-semibold",children:"My Artists"})}),Object($.jsx)("div",{className:"w-full md:grid md:grid-cols-2 md:gap-2",children:t.map((function(e){return Object($.jsx)(Z.b,{to:"/attraction/".concat(e.id),children:Object($.jsx)("div",{className:"w-full border rounded flex items-center justify-between transition-colors duration-200 ease-in-out mb-2 py-2 px-2 hover:shadow-xl hover:text-blue-600",children:Object($.jsxs)("div",{className:"flex items-center",children:[Object($.jsx)("div",{className:"",children:Object($.jsx)("img",{alt:e.name,src:e.photoUrl,className:"w-16 rounded mr-4 md:mr-10"})}),Object($.jsx)("div",{className:"pr-4",children:Object($.jsx)("p",{className:"text-sm sm:text-base font-semibold",children:e.name})})]})})},e.id)}))})]})})},ae=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.attractionsReducer.attractionsHome})),r=Object(l.c)((function(e){return e.userReducer.user})),n=localStorage.getItem("token")||null;return Object(a.useEffect)((function(){var t;n&&e((t=n,function(){var e=Object(d.a)(u.a.mark((function e(r){var a,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=C.a.decode(JSON.parse(t)),n=a.username,e.next=4,j.a.get("".concat(M,"/users/").concat(n));case 4:s=e.sent,r(G(s.data.user)),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),e(function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={},e.next=4,U.getAttractions("music");case 4:return a=e.sent,e.next=7,U.getAttractions("sports");case 7:return n=e.sent,e.next=10,U.getAttractions("film");case 10:return s=e.sent,e.next=13,U.getAttractions("arts&theatre");case 13:c=e.sent,r.music=a._embedded.attractions,r.sports=n._embedded.attractions,r.films=s._embedded.attractions,r.artsAndTheatre=c._embedded.attractions,t(X(r)),e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 25:case 26:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}())}),[n,e,r.loggedIn]),Object($.jsx)("div",{className:"flex justify-center w-full",children:Object($.jsxs)("div",{className:"px-3 flex flex-col lg:w-5/6 xl:w-2/3",children:[Object($.jsxs)("div",{className:"flex flex-col",children:[Object($.jsx)("h3",{className:"text-2xl font-semibold mb-6",children:"Top Selling"}),Object.keys(t).map((function(e){return Object($.jsx)("div",{className:"mb-10 w-full",children:Object($.jsx)(te,{title:t[e].title,attractions:t[e].attractions})},e)}))]}),Object($.jsx)("div",{children:r.artists&&r.artists.length?Object($.jsx)("div",{className:"mb-10 w-full",children:Object($.jsx)(re,{artists:r.artists})}):null})]})})},ne=r(22),se=r(13),ce=function(){var e,t=Object(l.b)(),r=Object(i.f)(),n=Object(l.c)((function(e){return e.userReducer.user})),s=Object(a.useState)({email:"",password:"",firstName:"",lastName:"",usernameError:"",passwordError:"",firstNameError:"",lastNameError:""}),c=Object(se.a)(s,2),o=c[0],b=c[1];Object(a.useEffect)((function(){return n.loggedIn&&r("/"),function(){clearTimeout(e)}}),[n.loggedIn,r,e]);var m=function(e){var t=e.target,r=t.name,a=t.value;b((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(ne.a)({},r,a))}))};return Object($.jsx)("div",{className:"flex justify-center px-3",children:Object($.jsx)("div",{className:"w-full sm:w-3/4 md:w-1/2 lg:w-5/12 xl:w-1/3",children:Object($.jsxs)("div",{className:"border border-gray-300 shadow-lg rounded bg-white px-10 py-14",children:[Object($.jsx)("h1",{className:"text-2xl font-semibold",children:"Almost There!"}),Object($.jsx)("h3",{className:"text mb-10 text-gray-700",children:"Sign up with EventFinder and stay up to date with what's going on around you. "}),Object($.jsxs)("h5",{className:"text-sm mb-10 text-gray-700",children:["Already a member?",Object($.jsx)("span",{className:"text-blue-500 font-semibold",children:Object($.jsx)(Z.b,{to:"/login",children:" Login"})})]}),Object($.jsxs)("form",{onSubmit:function(r){r.preventDefault(),function(){var e=!0;return o.email?b((function(e){return Object(R.a)(Object(R.a)({},e),{},{usernameError:""})})):(b((function(e){return Object(R.a)(Object(R.a)({},e),{},{usernameError:"Email cannot be blank"})})),e=!1),o.password?b((function(e){return Object(R.a)(Object(R.a)({},e),{},{passwordError:""})})):(b((function(e){return Object(R.a)(Object(R.a)({},e),{},{passwordError:"Password cannot be blank"})})),e=!1),o.firstName?b((function(e){return Object(R.a)(Object(R.a)({},e),{},{firstNameError:""})})):(b((function(e){return Object(R.a)(Object(R.a)({},e),{},{firstNameError:"First name cannot be blank"})})),e=!1),o.lastName?b((function(e){return Object(R.a)(Object(R.a)({},e),{},{lastNameError:""})})):(b((function(e){return Object(R.a)(Object(R.a)({},e),{},{lastNameError:"Last name cannot be blank"})})),e=!1),e}()&&(t(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("".concat(M,"/users/register"),e);case 3:a=t.sent,localStorage.setItem("token",JSON.stringify(a.data.token)),r(H(a.data.user)),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}({email:o.email,password:o.password,firstName:o.firstName,lastName:o.lastName})),e=setTimeout((function(){n.loggedIn||b((function(e){return Object(R.a)(Object(R.a)({},e),{},{usernameError:"There is already an account using this email address"})}))}),1e3))},className:"",children:[Object($.jsxs)("div",{className:"mb-5",children:[Object($.jsx)("label",{htmlFor:"email",className:"block text-sm text-gray-700 mb-1",children:"Email Address"}),Object($.jsx)("input",{type:"text",name:"email",id:"email",maxLength:"25",value:o.email,onChange:m,className:"w-full border-gray-300 rounded focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50"}),o.usernameError?Object($.jsx)("p",{className:"text-xs text-red-500 mt-1",children:o.usernameError}):null]}),Object($.jsxs)("div",{className:"mb-3",children:[Object($.jsx)("label",{htmlFor:"password",className:"block text-sm text-gray-700 mb-1",children:"Password"}),Object($.jsx)("input",{type:"password",name:"password",id:"password",maxLength:"25",value:o.password,onChange:m,className:"w-full border-gray-300 rounded shadow-sm focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50"}),o.passwordError?Object($.jsx)("p",{className:"text-xs text-red-500 mt-1",children:o.passwordError}):null]}),Object($.jsxs)("div",{className:"sm:grid sm:grid-cols-2 sm:gap-8",children:[Object($.jsxs)("div",{className:"mb-3",children:[Object($.jsx)("label",{htmlFor:"firstName",className:"block text-sm text-gray-700 mb-1",children:"First Name"}),Object($.jsx)("input",{type:"text",name:"firstName",id:"firstName",maxLength:"25",value:o.firstName,onChange:m,className:"w-full border-gray-300 rounded shadow-sm focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50"}),o.firstNameError?Object($.jsx)("p",{className:"text-xs text-red-500 mt-1",children:o.firstNameError}):null]}),Object($.jsxs)("div",{className:"mb-3",children:[Object($.jsx)("label",{htmlFor:"lastName",className:"block text-sm text-gray-700 mb-1",children:"Last Name"}),Object($.jsx)("input",{type:"text",name:"lastName",id:"lastName",maxLength:"25",value:o.lastName,onChange:m,className:"w-full border-gray-300 rounded shadow-sm focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50"}),o.lastNameError?Object($.jsx)("p",{className:"text-xs text-red-500 mt-1",children:o.lastNameError}):null]})]}),Object($.jsx)("button",{className:"text-white uppercase tracking-wider bg-blue-500 mt-4 py-3 rounded w-full hover:bg-blue-600  focus:outline-none focus:ring focus:ring-offset-2 focus:ring-blue-500 focus:ring-opacity-50 active:bg-blue-600",children:"Sign Up"})]})]})})})},ie=function(e){var t=e.artists,r=e.handleUnfollow;return Object($.jsx)($.Fragment,{children:t?Object($.jsxs)("div",{className:"sm:px-3",children:[Object($.jsx)("h2",{className:"text-2xl font-semibold mb-10",children:"My Artists"}),t.length?t.map((function(e){return Object($.jsxs)("div",{className:"border-b flex items-center justify-between py-4 px-1 hover:bg-gray-100",children:[Object($.jsxs)("div",{className:"flex items-center",children:[Object($.jsx)("div",{className:"",children:Object($.jsx)("img",{alt:e.name,src:e.photoUrl,className:"w-16 md:w-24 rounded mr-4 md:mr-10"})}),Object($.jsx)("div",{className:"pr-4",children:Object($.jsx)("p",{className:"text-sm sm:text-base font-semibold",children:e.name})})]}),Object($.jsx)("div",{children:Object($.jsx)("button",{onClick:function(){return r(e.id)},className:"text-sm text-red-500 hover:underline",children:"Remove"})})]},e.id)})):Object($.jsx)("h4",{className:"italic text-gray-800",children:"You haven't added any artists yet! You can click the heart icon on an artist's page to keep up to date with their events."})]}):null})},le=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.userReducer.user})),r=t.artists;return Object($.jsx)("div",{className:"flex justify-center px-3",children:Object($.jsx)("div",{className:"w-full md:w-4/5 lg:w-4/6 xl:w-3/5",children:Object($.jsx)(ie,{artists:r,handleUnfollow:function(r){e(B({id:r,username:t.email}))}})})})},oe=r(20),ue=r.n(oe),de=function(e){var t=e.name,r=e.segment,a=e.genre,n=e.img,s=e.id;return Object($.jsx)($.Fragment,{children:Object($.jsx)(Z.b,{to:"/attraction/".concat(s),children:Object($.jsxs)("div",{className:"border-b flex items-center hover:bg-gray-200 py-4",children:[Object($.jsx)("div",{className:"mr-10",children:Object($.jsx)("img",{src:n,alt:t,className:"w-20"})}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:"font-semibold",children:t}),Object($.jsxs)("p",{className:"text-gray-500 text-sm",children:[r," / ",a]})]})]})})})},be=function(e){e.attractionId,e.attractionName;var t=Object(l.c)((function(e){return e.searchReducer})),r=t.attractions;return Object($.jsx)($.Fragment,{children:r?r.map((function(e){return Object($.jsx)("div",{children:Object($.jsx)(de,{name:e.name,segment:e.classifications[0].segment?e.classifications[0].segment.name:null,genre:e.classifications[0].genre?e.classifications[0].genre.name:null,img:e.images[0].url,id:e.id})},e.id)})):Object($.jsx)("p",{children:"Couldn't find anything matching your search."})})},je=r(23),me=r.n(je),xe=function(e){var t=e.name,r=(e.id,e.img,e.date),a=e.time,n=e.venue,s=e.ticketUrl;return Object($.jsxs)("div",{className:"border-b flex justify-between py-4 px-2 hover:bg-gray-100",children:[Object($.jsxs)("div",{className:"flex flex-col md:flex-row",children:[Object($.jsxs)("div",{className:"mr-10 flex items-baseline md:flex-col md:w-28",children:[Object($.jsx)("p",{className:"text-indigo-600 font-semibold mr-3 uppercase",children:me()(r).format("MMM D")}),Object($.jsx)("p",{className:"text-gray-500",children:me()("".concat(r," ").concat(a)).format("ddd h:mm a")})]}),Object($.jsxs)("div",{className:"pr-2",children:[Object($.jsx)("p",{className:"font-semibold",children:t}),Object($.jsx)("p",{className:"text-gray-500 text-sm",children:n})]})]}),Object($.jsx)("div",{className:"mt-1",children:Object($.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:Object($.jsx)("button",{className:"bg-blue-600 px-6 py-2 tracking-wider rounded text-white hover:bg-blue-800",children:"Tickets"})})})]})},fe=function(e){var t,r=e.attractionId,n=e.attractionName,s=Object(l.b)(),c=Object(l.c)((function(e){return e.searchReducer})),o=c.events;t=c.link?c.link.href:null;var b=Object(i.e)().search,j=ue.a.parse(b),m=j.location,x=j.keyword;Object(a.useEffect)((function(){r||0===o.length&&s(z(ue.a.parse(b)))}),[r,s,o.length,b]);return Object($.jsx)($.Fragment,{children:o?Object($.jsxs)("div",{className:"",children:[n&&Object($.jsxs)("p",{className:"mb-10 font-semibold text-xl",children:["Upcoming Events for ",n]}),0===o.length?Object($.jsx)("div",{children:x||m?Object($.jsxs)("p",{children:["Unfortunately, there are no upcoming events for ",x," matching your criteria."]}):Object($.jsx)("p",{children:"Unfortunately, there are no upcoming events for this artist."})}):Object($.jsx)($.Fragment,{children:o.map((function(e){return Object($.jsx)("div",{children:Object($.jsx)(xe,{name:e.name,date:e.dates.start.localDate,time:e.dates.start.localTime,img:e.images[2].url,id:e.id,ticketUrl:e.url,venue:e._embedded?e._embedded.venues[0].name:null})},e.id)}))}),t&&Object($.jsx)("div",{className:"flex justify-center",children:Object($.jsx)("div",{className:"flex justify-center w-1/2 my-10",children:Object($.jsx)("button",{onClick:function(){var e;s((e=t,function(){var t=Object(d.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.loadMore(e);case 3:a=t.sent,r(Q(a)),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 11:case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},className:"w-full py-2 px-4 border border-blue-400 rounded hover:bg-blue-400 hover:text-white",children:"Load More"})})})]}):null})},he=function(){var e=Object(a.useState)("attractions"),t=Object(se.a)(e,2),r=t[0],n=t[1],s=Object(i.e)().search,c=ue.a.parse(s).keyword;return Object($.jsx)("div",{className:"flex justify-center px-3",children:Object($.jsxs)("div",{className:"w-full md:w-4/5 lg:w-3/5",children:[Object($.jsx)("div",{className:"text-2xl mb-8",children:Object($.jsxs)("p",{children:["Searching for ",Object($.jsxs)("span",{className:"font-semibold text-indigo-700",children:['"',c,'"']})]})}),Object($.jsxs)("div",{className:"flex text-xl",children:[Object($.jsx)("button",{onClick:function(){n("attractions")},className:"mb-8 mr-6 py-2 ".concat("attractions"===r?"border-b-4 border-blue-500":"border-b-4 border-transparent"),children:"Attractions"}),Object($.jsx)("button",{onClick:function(){n("events")},className:"mb-8 py-2 ".concat("events"===r?"border-b-4 border-blue-500":"border-b-4 border-transparent"),children:"Events"})]}),Object($.jsx)("div",{children:"attractions"===r?Object($.jsx)(be,{}):Object($.jsx)(fe,{})})]})})},Oe=r(31),pe=r(162),ve=r(39),ge=function(){var e=Object(l.b)(),t=Object(i.f)(),r=Object(i.g)().attractionId,n=Object(a.useState)(!1),s=Object(se.a)(n,2),c=s[0],o=s[1],b=Object(l.c)((function(e){return e.attractionsReducer.details})),m=Object(l.c)((function(e){return e.userReducer.user}));Object(a.useEffect)((function(){var t;e((t=r,function(){var e=Object(d.a)(u.a.mark((function e(r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getAttractionDetails(t);case 2:a=e.sent,r(K(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e(z({attractionId:r})),m.loggedIn&&o(m.artists.map((function(e){return e.id})).includes(r))}),[r,e,m.loggedIn,m.artists,b.details]);var x=function(){var a;m.loggedIn?(e((a={id:r,name:b.name,photoUrl:b.images[2].url,username:m.email},function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(M,"/users/").concat(a.username,"/artists"),a);case 3:r=e.sent,t(Y(r.data.artist)),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),o(!0)):t("/login")},f=function(){e(B({id:r,username:m.email})),o(!1)};return Object($.jsx)($.Fragment,{children:b?Object($.jsx)("div",{className:"flex justify-center px-3",children:Object($.jsxs)("div",{className:"flex flex-col items-center md:w-4/5 lg:w-3/5",children:[Object($.jsxs)("div",{className:"sm:grid sm:grid-cols-2 w-full",children:[Object($.jsx)("div",{className:"sm:order-last lg:flex lg:justify-end",children:b.images?Object($.jsx)("img",{alt:b.name,className:"rounded mb-4 w-full",src:function(e){var t=e.findIndex((function(e){return 640===e.width}));return e[t].url}(b.images)}):null}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:"text-5xl mb-4",children:b.name}),b.classifications?Object($.jsxs)("p",{className:"mb-4 ml-1 text-xl text-gray-500",children:[b.classifications[0].segment.name," / ",b.classifications[0].genre.name]}):null,c?Object($.jsxs)("div",{className:"flex ml-1",children:[Object($.jsx)("button",{onClick:f,className:"mr-2",children:Object($.jsx)(Oe.a,{icon:ve.b,className:"text-xl text-red-500"})}),Object($.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Following"})]}):Object($.jsxs)("div",{className:"flex ml-1",children:[Object($.jsx)("button",{onClick:x,className:"mr-2",children:Object($.jsx)(Oe.a,{icon:pe.a,className:"text-xl text-gray-700"})}),Object($.jsx)("p",{className:"text-sm text-gray-400",children:"Follow"})]})]})]}),Object($.jsx)("div",{className:"w-full mt-10",children:b.id===r?Object($.jsx)(fe,{attractionId:b.id,attractionName:b.name}):null})]})}):Object($.jsx)("p",{children:"loading"})})},Ne=function(e){var t=e.attractionId,r=Object(l.b)(),n=Object(i.f)(),s=Object(i.e)().search,c=ue.a.parse(s),o=c.location,u=c.keyword,d=c.startDateTime,b=c.sort,j=c.radius,m=c.classificationName;"arts"===m&&(m="arts&theatre");var x={startDateTime:d||me()().format(),location:o||"",classificationName:m||"all",sort:b||"date,asc",radius:j||"50"},f=Object(a.useState)(x),h=Object(se.a)(f,2),O=h[0],p=h[1],v=function(e){var t=e.target,r=t.name,a=t.value;p((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(ne.a)({},r,a))}))};return Object($.jsx)("div",{className:"sm:w-1/2 xl:w-1/3",children:Object($.jsx)("form",{onSubmit:function(e){e.preventDefault(),t?r(z({attractionId:t,startDateTime:me()(O.startDateTime).format()})):(r(z(Object(R.a)(Object(R.a)(Object(R.a)({},ue.a.parse(s)),O),{},{classificationName:"all"===O.classificationName?"":O.classificationName,startDateTime:me()(O.startDateTime).format()}))),n({pathname:"/discover",search:"?location=".concat(O.location||"","&keyword=").concat(u||"","&startDateTime=").concat(me()(O.startDateTime).format(),"&classificationName=").concat(O.classificationName,"&sort=").concat(O.sort,"&radius=").concat(O.radius)}))},children:Object($.jsxs)("div",{className:"flex flex-col",children:[Object($.jsxs)("div",{className:"mb-2",children:[Object($.jsx)("input",{type:"text",name:"location",id:"location",value:O.location,onChange:v,placeholder:"Enter city or zip",className:"border-blue-500 rounded mb-2 w-full"}),Object($.jsx)("input",{type:"date",id:"datePicker",name:"startDateTime",value:O.startDateTime,onChange:v,className:"border-blue-500 rounded w-full"})]}),Object($.jsx)("div",{children:Object($.jsx)("button",{className:"bg-gray-200 px-3 py-2 rounded text-gray-700 text-sm ml-1",children:"Apply Filters"})})]})})})},we=function(){var e=Object(i.e)().search,t=ue.a.parse(e),r=t.location,a=t.startDateTime,n=t.classificationName;"arts"===n&&(n="arts & theater");return Object($.jsx)("div",{className:"flex justify-center px-3",children:Object($.jsxs)("div",{className:"lg:w-3/5",children:[Object($.jsx)("div",{children:Object($.jsxs)("div",{className:"text-2xl mb-10",children:[Object($.jsxs)("p",{className:"inline",children:["Showing upcoming ",Object($.jsx)("span",{className:"font-semibold text-indigo-700",children:n})," events"]}),r?Object($.jsxs)("p",{className:"inline",children:[" near ",Object($.jsx)("span",{className:"font-semibold text-indigo-700",children:r})]}):null,a?Object($.jsxs)("p",{className:"inline",children:[" starting ",Object($.jsx)("span",{className:"font-semibold text-indigo-700",children:me()(a).format("MMM D YYYY")})]}):null]})}),Object($.jsx)("div",{className:"mb-10",children:Object($.jsx)(Ne,{})}),Object($.jsx)("div",{children:Object($.jsx)(fe,{})})]})})},ye=function(){var e,t=Object(l.b)(),r=Object(i.f)(),n=Object(l.c)((function(e){return e.userReducer.user})),s=Object(a.useState)({email:"testuser@email.com",password:"password",emailError:"",passwordError:""}),c=Object(se.a)(s,2),o=c[0],b=c[1];Object(a.useEffect)((function(){return n.loggedIn&&r("/"),function(){clearTimeout(e)}}),[n.loggedIn,r,e]);var m=function(e){var t=e.target,r=t.name,a=t.value;b((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(ne.a)({},r,a))}))};return Object($.jsx)("div",{className:"flex justify-center px-3",children:Object($.jsx)("div",{className:"w-full sm:w-3/4 md:w-1/2 lg:w-5/12 xl:w-1/3",children:Object($.jsxs)("div",{className:"border border-gray-300 shadow-lg rounded bg-white px-10 py-14",children:[Object($.jsx)("h1",{className:"text-2xl font-semibold",children:"Welcome Back!"}),Object($.jsx)("h3",{className:"text mb-10 text-gray-700",children:"Sign in below and discover awesome events and artists nearby. "}),Object($.jsxs)("h5",{className:"text-sm mb-10 text-gray-700",children:["New to EventFinder?",Object($.jsx)("span",{className:"text-blue-500 font-semibold",children:Object($.jsx)(Z.b,{to:"/register",children:" Sign up"})})]}),Object($.jsxs)("form",{onSubmit:function(r){r.preventDefault();var a,s=function(){var e=!0;return o.email?b((function(e){return Object(R.a)(Object(R.a)({},e),{},{emailError:""})})):(b((function(e){return Object(R.a)(Object(R.a)({},e),{},{emailError:"Email cannot be blank"})})),e=!1),o.password?b((function(e){return Object(R.a)(Object(R.a)({},e),{},{passwordError:""})})):(b((function(e){return Object(R.a)(Object(R.a)({},e),{},{passwordError:"Password cannot be blank"})})),e=!1),e}();s&&(t((a={email:o.email,password:o.password},function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(M,"/users/login"),a,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,localStorage.setItem("token",JSON.stringify(r.data.token)),t(P(r.data.user)),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),e=setTimeout((function(){n.loggedIn||b((function(e){return Object(R.a)(Object(R.a)({},e),{},{emailError:"Invalid email/password",passwordError:"Invalid email/password"})}))}),1e3))},className:"",children:[Object($.jsxs)("div",{className:"mb-5",children:[Object($.jsx)("label",{htmlFor:"email",className:"block text-sm text-gray-700 mb-1",children:"Email Address"}),Object($.jsx)("input",{type:"text",name:"email",id:"email",maxLength:"25",value:o.email,onChange:m,className:"w-full border-gray-300 rounded focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50"}),o.emailError?Object($.jsx)("p",{className:"text-xs text-red-500 mt-1",children:o.emailError}):null]}),Object($.jsxs)("div",{className:"mb-3",children:[Object($.jsx)("label",{htmlFor:"password",className:"block text-sm text-gray-700 mb-1",children:"Password"}),Object($.jsx)("input",{type:"password",name:"password",id:"password",maxLength:"25",value:o.password,onChange:m,className:"w-full border-gray-300 rounded shadow-sm focus:border-blue-400 focus:ring-blue-500 focus:ring-opacity-50"}),o.passwordError?Object($.jsx)("p",{className:"text-xs text-red-500 mt-1",children:o.passwordError}):null]}),Object($.jsx)("button",{className:"text-white uppercase tracking-wider bg-blue-500 mt-4 py-3 rounded w-full hover:bg-blue-600  focus:outline-none focus:ring focus:ring-offset-2 focus:ring-blue-500 focus:ring-opacity-50 active:bg-blue-600",children:"Login"})]})]})})})},ke=function(){return Object($.jsxs)(i.c,{children:[Object($.jsx)(i.a,{path:"/login",element:Object($.jsx)(ye,{})}),Object($.jsx)(i.a,{path:"/register",element:Object($.jsx)(ce,{})}),Object($.jsx)(i.a,{path:"/profile",element:Object($.jsx)(le,{})}),Object($.jsx)(i.a,{path:"/attraction/:attractionId",element:Object($.jsx)(ge,{})}),Object($.jsx)(i.a,{path:"/search",element:Object($.jsx)(he,{})}),Object($.jsx)(i.a,{path:"/discover",element:Object($.jsx)(we,{})}),Object($.jsx)(i.a,{path:"/",element:Object($.jsx)(ae,{})})]})},Ee=function(){var e=Object(i.e)().search,t=ue.a.parse(e),r=t.location,n=t.keyword,s=Object(a.useState)({location:"",keyword:""}),c=Object(se.a)(s,2),o=c[0],b=c[1],j=Object(l.b)(),m=Object(i.f)();Object(a.useEffect)((function(){b({location:r||"",keyword:n||""})}),[e,n,r]);return Object($.jsx)("div",{children:Object($.jsx)("form",{onSubmit:function(e){e.preventDefault();try{j((t=o,function(){var e=Object(d.a)(u.a.mark((function e(r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.searchAttractions(t);case 3:a=e.sent,r(W(a)),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),j(z(o)),m({pathname:"/search",search:"?keyword=".concat(o.keyword)})}catch(r){console.log(r)}var t},children:Object($.jsxs)("div",{className:"flex items-center",children:[Object($.jsx)("input",{type:"text",placeholder:"Search events and attractions",name:"keyword",value:o.keyword,onChange:function(e){var t=e.target,r=t.name,a=t.value;b((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(ne.a)({},r,a))}))},className:"rounded bg-white placeholder-opacity-80 w-72 px-4 py-2 mr-3 lg:mr-2"}),Object($.jsx)("button",{children:Object($.jsx)(Oe.a,{icon:ve.c,className:"text-xl text-white"})})]})})})},Te=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.userReducer.user})),r=Object(a.useState)(!1),n=Object(se.a)(r,2),s=n[0],c=n[1],o=Object(i.e)();Object(a.useEffect)((function(){c(!1)}),[o.pathname,o.search]);var u=function(){e((function(e){localStorage.removeItem("token"),e(q())})),d("/")},d=Object(i.f)(),b=function(t){e(z({classificationName:t})),d({pathname:"/discover",search:"?classificationName=".concat(t)})};return Object($.jsx)("nav",{className:"relative flex flex-wrap items-center justify-between px-2 py-3 lg:py-6 bg-blue-500 mb-3",children:Object($.jsxs)("div",{className:"container px-2 mx-auto flex flex-wrap items-center justify-between lg:px-0",children:[Object($.jsxs)("div",{className:"w-full px-1 relative flex justify-between lg:px-0 lg:w-auto lg:static lg:block lg:justify-start lg:mr-6",children:[Object($.jsx)(Z.b,{to:"/",className:"font-semibold text-2xl italic leading-relaxed inline-block py-2 whitespace-nowrap text-white",children:"EventFinder"}),Object($.jsx)("button",{className:"text-white cursor-pointer text-2xl leading-none px-1 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return c(!s)},children:Object($.jsx)(Oe.a,{icon:ve.a})})]}),Object($.jsxs)("div",{className:"flex-col flex-grow items-start lg:flex lg:flex-row lg:justify-between"+(s?" flex":" hidden"),id:"example-navbar-danger",children:[Object($.jsx)("div",{className:"lg:flex lg:flex-row",children:Object($.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object($.jsx)(Ee,{}),Object($.jsx)("li",{className:"nav-item lg:ml-6",children:Object($.jsx)("button",{onClick:function(){return b("music")},className:"px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75",children:"Concerts"})}),Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)("button",{onClick:function(){return b("sports")},className:"px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75",children:"Sports"})}),Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)("button",{onClick:function(){return b("arts&theatre")},className:"px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75",children:"Arts & Theater"})})]})}),Object($.jsx)("div",{className:"lg:flex lg:flex-row",children:Object($.jsx)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:t.loggedIn?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("li",{className:"nav-item px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75",children:Object($.jsx)(Z.b,{to:"/profile",children:Object($.jsx)("button",{className:"font-semibold mr-4",children:"My Profile"})})}),Object($.jsx)("li",{className:"nav-item px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75",children:Object($.jsx)("button",{onClick:u,className:"font-semibold",children:"Logout"})})]}):Object($.jsx)($.Fragment,{children:Object($.jsx)("li",{className:"nav-item px-2 py-2 flex items-center text-lg font-semibold leading-snug text-white hover:opacity-75",children:Object($.jsx)(Z.b,{to:"/login",children:Object($.jsx)("button",{className:"font-semibold",children:"Login"})})})})})})]})]})})},Se=function(){return Object($.jsx)("div",{className:"flex justify-center py-10 text-sm text-gray-600",children:Object($.jsx)("p",{children:"EventFinder 2021"})})},Ae=function(){return Object($.jsxs)("div",{className:"flex flex-col min-h-screen",children:[Object($.jsx)("div",{className:"mb-10",children:Object($.jsx)(Te,{})}),Object($.jsx)("div",{className:"",children:Object($.jsx)(ke,{})}),Object($.jsx)("div",{className:"flex flex-grow"}),Object($.jsx)("div",{children:Object($.jsx)(Se,{})})]})},Ce=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,326)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))},Re=r(40),Ie=r(47),De={events:[],link:"",eventDetail:{},attractions:[],users:[]},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var r;return r=t.searchResults._embedded?t.searchResults._embedded.events:[],Object(R.a)(Object(R.a)({},e),{},{events:r,link:t.searchResults._links.next});case N:return Object(R.a)(Object(R.a)({},e),{},{events:[].concat(Object(Ie.a)(e.events),Object(Ie.a)(t.results._embedded.events)),link:t.results._links.next});case E:return Object(R.a)(Object(R.a)({},e),{},{eventDetail:t.eventDetail});case w:return Object(R.a)(Object(R.a)({},e),{},{attractions:t.searchAttractionsResults._embedded.attractions});case v:return Object(R.a)(Object(R.a)({},e),{},{users:t.users});case g:return Object(R.a)(Object(R.a)({},e),{},{users:[]});default:return e}},Fe={attractionsHome:{music:{title:"Music",attractions:[]},sports:{title:"Sports",attractions:[]},films:{title:"Films",attractions:[]},artsAndTheatre:{title:"Arts & Theatre",attractions:[]}},details:{}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(R.a)(Object(R.a)({},e),{},{attractionsHome:Object(R.a)(Object(R.a)({},e.attractionsHome),{},{music:Object(R.a)(Object(R.a)({},e.attractionsHome.music),{},{attractions:t.attractions.music}),sports:Object(R.a)(Object(R.a)({},e.attractionsHome.sports),{},{attractions:t.attractions.sports}),films:Object(R.a)(Object(R.a)({},e.attractionsHome.films),{},{attractions:t.attractions.films}),artsAndTheatre:Object(R.a)(Object(R.a)({},e.attractionsHome.artsAndTheatre),{},{attractions:t.attractions.artsAndTheatre})})});case k:return Object(R.a)(Object(R.a)({},e),{},{details:t.attractionDetails});default:return e}},Ue={user:{loggedIn:!1,artists:[]}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case f:case x:return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},t.user),{},{loggedIn:!0})});case h:return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{firstName:t.user.firstName,lastName:t.user.lastName,email:t.user.email})});case O:return Ue;case T:return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{artists:[].concat(Object(Ie.a)(e.user.artists),[t.artist])})});case S:return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{artists:e.user.artists.filter((function(e){return e.id!==t.id}))})});default:return e}},He=Object(Re.combineReducers)({searchReducer:_e,attractionsReducer:Le,userReducer:Me}),Pe=r(164),qe=r(163),Ge=function(){var e=Object(i.e)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},Ye=Object(Re.createStore)(He,Object(qe.composeWithDevTools)(Object(Re.applyMiddleware)(Pe.a)));c.a.render(Object($.jsx)(n.a.StrictMode,{children:Object($.jsx)(l.a,{store:Ye,children:Object($.jsxs)(Z.a,{children:[Object($.jsx)(Ge,{}),Object($.jsx)(Ae,{})]})})}),document.getElementById("root")),Ce()}},[[325,1,2]]]);
//# sourceMappingURL=main.86ba80ab.chunk.js.map